{% extends "base.html" %}

{% block content %}
<div class="container">
    <h1>üì¶ –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤</h1>
    
    {% if orders %}
    <div class="orders-list">
        {% for order in orders %}
        <div class="order-card">
            <div class="order-header">
                <span class="order-number">–ó–∞–∫–∞–∑ #{{ order.id }}</span>
                <span class="order-date">{{ order.order_date.strftime('%d.%m.%Y %H:%M') }}</span>
                <span class="order-status status-processing">{{ order.status }}</span>
            </div>
            
            <p><strong>–°–ø–æ—Å–æ–± –¥–æ—Å—Ç–∞–≤–∫–∏:</strong> 
                {% if order.delivery_method == 'pickup' %}–°–∞–º–æ–≤—ã–≤–æ–∑{% else %}–î–æ—Å—Ç–∞–≤–∫–∞ –¥–æ –¥–≤–µ—Ä–∏{% endif %}
            </p>
            
            {% if order.delivery_address %}
            <p><strong>–ê–¥—Ä–µ—Å:</strong> {{ order.delivery_address }}</p>
            {% endif %}
            
            <p><strong>–°—É–º–º–∞ –∑–∞–∫–∞–∑–∞:</strong> {{ order.total_amount }} ‚ÇΩ</p>
            
            <h4>–¢–æ–≤–∞—Ä—ã:</h4>
            <ul>
                {% for item in order.order_items %}
                <li>{{ item.book.title }} - {{ item.quantity }} —à—Ç. √ó {{ item.price }} ‚ÇΩ</li>
                {% endfor %}
            </ul>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div style="text-align: center; padding: 3rem;">
        <h2>üì≠ –ó–∞–∫–∞–∑–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç</h2>
        <p>–°–¥–µ–ª–∞–π—Ç–µ —Å–≤–æ–π –ø–µ—Ä–≤—ã–π –∑–∞–∫–∞–∑!</p>
        <a href="{{ url_for('main.catalog') }}" class="btn btn-primary">–ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–∞—Ç–∞–ª–æ–≥</a>
    </div>
    {% endif %}
</div>
{% endblock %}